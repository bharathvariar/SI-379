<!DOCTYPE html>
<html>

<head>
    <title>Box Example</title>
    <style>
        #box {
            width: 250px;
            height: 250px;
        }

        .red {
            background-color: red;
        }

        .blue {
            background-color: blue;
        }
    </style>
</head>

<body>
    <div id="box"></div>
    <script>
        let timerID = false;
        const box = document.querySelector("#box");
        
        const toggleColor = () => {   
            
            if (box.classList.contains("red")) {
                box.classList.remove("red");
                box.classList.add("blue");
            } else {
                box.classList.remove("blue");
                box.classList.add("red");
            }
            
            if (timerID) {
                // Clearing timerID before setting timeout cuz we wanna 
                // clear it from last time before setting it again
                clearTimeout(timerID); 
            }

            timerID = setTimeout(() => {
                toggleColor();
                console.log("Toggle cuz of timer")
            }, 1000);
        };

        box.addEventListener("click", () => {
            toggleColor();
            console.log("Toggle cuz of click")
        });
        //  To initialise since when the box is created, 
        //  the box has no class and to set the first timeout
        toggleColor();
    </script>
</body>

</html>